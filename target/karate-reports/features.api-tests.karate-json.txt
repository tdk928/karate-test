{"failedCount":1,"prefixedPath":"classpath:features\/api-tests.feature","packageQualifiedName":"features.api-tests","loopIndex":-1,"relativePath":"features\/api-tests.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":534708,"startTime":1759749987179,"endTime":1759749987180,"millis":0.534708,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"14:26:27.155 karate.env system property was: null \n14:26:27.172 config: {\n  \"env\": \"dev\",\n  \"baseUrl\": \"http:\/\/localhost:8082\",\n  \"timeout\": 5000,\n  \"apiTimeout\": 5000,\n  \"retryCount\": 3,\n  \"retryInterval\": 1000,\n  \"commonHeaders\": {\n    \"Content-Type\": \"application\/json\",\n    \"Accept\": \"application\/json\",\n    \"User-Agent\": \"Karate-Test-Framework\"\n  }\n}\n \n"},{"result":{"nanos":1541208,"startTime":1759749987181,"endTime":1759749987183,"millis":1.541208,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure headers = commonHeaders"}},{"result":{"nanos":1224667,"startTime":1759749987183,"endTime":1759749987184,"millis":1.224667,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def authToken = null"}},{"result":{"nanos":326084,"startTime":1759749987184,"endTime":1759749987184,"millis":0.326084,"status":"passed"},"step":{"line":11,"prefix":"Given","index":0,"text":"path 'gateway\/auth\/login'"}},{"result":{"nanos":15719583,"startTime":1759749987184,"endTime":1759749987200,"millis":15.719583,"status":"passed"},"step":{"endLine":18,"line":12,"prefix":"And","docString":"{\n  \"egnOrEik\": \"9308149045\",\n  \"password\": \"9308149045\"\n}","index":1,"text":"request"}},{"result":{"nanos":245930500,"startTime":1759749987200,"endTime":1759749987446,"millis":245.9305,"status":"passed"},"step":{"line":19,"prefix":"When","index":2,"text":"method POST"}},{"result":{"nanos":17334,"startTime":1759749987446,"endTime":1759749987446,"millis":0.017334,"status":"passed"},"step":{"line":20,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":4820250,"startTime":1759749987446,"endTime":1759749987451,"millis":4.82025,"status":"passed"},"step":{"line":21,"prefix":"And","index":4,"text":"match response != null"}},{"result":{"nanos":811042,"startTime":1759749987451,"endTime":1759749987452,"millis":0.811042,"status":"passed"},"step":{"line":22,"prefix":"And","index":5,"text":"match response.success == true"}},{"result":{"nanos":1134750,"startTime":1759749987452,"endTime":1759749987453,"millis":1.13475,"status":"passed"},"step":{"comments":["# Store token for subsequent requests if needed"],"line":24,"prefix":"*","index":6,"text":"def authToken = response.token"}}],"line":10,"description":"","durationMillis":272.060126,"failed":false,"tags":["integration","api"],"executorName":"main","name":"Step 1 - Login with valid credentials","startTime":1759749987137,"refId":"[1:10]","endTime":1759749987453,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":123666,"startTime":1759749987465,"endTime":1759749987465,"millis":0.123666,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"14:26:27.462 karate.env system property was: null \n14:26:27.464 config: {\n  \"env\": \"dev\",\n  \"baseUrl\": \"http:\/\/localhost:8082\",\n  \"timeout\": 5000,\n  \"apiTimeout\": 5000,\n  \"retryCount\": 3,\n  \"retryInterval\": 1000,\n  \"commonHeaders\": {\n    \"Content-Type\": \"application\/json\",\n    \"Accept\": \"application\/json\",\n    \"User-Agent\": \"Karate-Test-Framework\"\n  }\n}\n \n"},{"result":{"nanos":69334,"startTime":1759749987465,"endTime":1759749987465,"millis":0.069334,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure headers = commonHeaders"}},{"result":{"nanos":192291,"startTime":1759749987465,"endTime":1759749987465,"millis":0.192291,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def authToken = null"}},{"result":{"nanos":260708,"startTime":1759749987465,"endTime":1759749987465,"millis":0.260708,"status":"passed"},"step":{"line":27,"prefix":"Given","index":0,"text":"path 'gateway\/companies\/get-all-companies'"}},{"result":{"nanos":3348041,"startTime":1759749987465,"endTime":1759749987468,"millis":3.348041,"status":"passed"},"step":{"comments":["# Add authorization header if token is available"],"line":29,"prefix":"*","index":1,"text":"if (authToken != null) karate.set('commonHeaders', { ...commonHeaders, 'Authorization': 'Bearer ' + authToken })"}},{"result":{"nanos":3244834,"startTime":1759749987469,"endTime":1759749987472,"millis":3.244834,"status":"passed"},"step":{"line":30,"prefix":"When","index":2,"text":"method GET"}},{"result":{"nanos":2446709,"errorMessage":"status code was: 401, expected: 200, response time in milliseconds: 2, url: http:\/\/localhost:8082\/gateway\/companies\/get-all-companies, response: \n{\"error\":\"Unauthorized\",\"message\":\"Missing Authorization header\",\"timestamp\":\"2025-10-06T11:26:27.470856Z\"}\nclasspath:features\/api-tests.feature:31","startTime":1759749987472,"endTime":1759749987474,"millis":2.446709,"status":"failed"},"step":{"line":31,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:26:27.475 classpath:features\/api-tests.feature:31\nThen status 200\nstatus code was: 401, expected: 200, response time in milliseconds: 2, url: http:\/\/localhost:8082\/gateway\/companies\/get-all-companies, response: \n{\"error\":\"Unauthorized\",\"message\":\"Missing Authorization header\",\"timestamp\":\"2025-10-06T11:26:27.470856Z\"}\nclasspath:features\/api-tests.feature:31\n"},{"result":{"nanos":0,"startTime":1759749987475,"endTime":1759749987475,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"And","index":4,"text":"match response != null"}}],"line":26,"description":"","durationMillis":9.685583,"failed":true,"error":"status code was: 401, expected: 200, response time in milliseconds: 2, url: http:\/\/localhost:8082\/gateway\/companies\/get-all-companies, response: \n{\"error\":\"Unauthorized\",\"message\":\"Missing Authorization header\",\"timestamp\":\"2025-10-06T11:26:27.470856Z\"}\nclasspath:features\/api-tests.feature:31","tags":["integration","api"],"executorName":"main","name":"Step 2 - Get all companies (after login)","startTime":1759749987459,"refId":"[2:26]","endTime":1759749987475,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":63333,"startTime":1759749987487,"endTime":1759749987487,"millis":0.063333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"14:26:27.485 karate.env system property was: null \n14:26:27.486 config: {\n  \"env\": \"dev\",\n  \"baseUrl\": \"http:\/\/localhost:8082\",\n  \"timeout\": 5000,\n  \"apiTimeout\": 5000,\n  \"retryCount\": 3,\n  \"retryInterval\": 1000,\n  \"commonHeaders\": {\n    \"Content-Type\": \"application\/json\",\n    \"Accept\": \"application\/json\",\n    \"User-Agent\": \"Karate-Test-Framework\"\n  }\n}\n \n"},{"result":{"nanos":53916,"startTime":1759749987487,"endTime":1759749987487,"millis":0.053916,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure headers = commonHeaders"}},{"result":{"nanos":134917,"startTime":1759749987487,"endTime":1759749987487,"millis":0.134917,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def authToken = null"}},{"result":{"nanos":223250,"startTime":1759749987487,"endTime":1759749987487,"millis":0.22325,"status":"passed"},"step":{"line":38,"prefix":"Given","index":0,"text":"path 'gateway\/auth\/login'"}},{"result":{"nanos":119916,"startTime":1759749987487,"endTime":1759749987487,"millis":0.119916,"status":"passed"},"step":{"endLine":45,"line":39,"prefix":"And","docString":"{\n  \"egnOrEik\": \"123\",\n  \"password\": \"wrong\"\n}","index":1,"text":"request"}},{"result":{"nanos":6585209,"startTime":1759749987487,"endTime":1759749987494,"millis":6.585209,"status":"passed"},"step":{"line":46,"prefix":"When","index":2,"text":"method POST"}},{"result":{"nanos":5542,"startTime":1759749987494,"endTime":1759749987494,"millis":0.005542,"status":"passed"},"step":{"line":47,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":639750,"startTime":1759749987494,"endTime":1759749987495,"millis":0.63975,"status":"passed"},"step":{"line":48,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":446542,"startTime":1759749987495,"endTime":1759749987495,"millis":0.446542,"status":"passed"},"step":{"line":49,"prefix":"And","index":5,"text":"match response.errorMessage contains \"EGNOrEIK must be 9 or 10 characters\""}}],"line":37,"description":"","durationMillis":8.272375,"failed":false,"tags":["integration","api"],"executorName":"main","name":"Step 3 - Login validation tests","startTime":1759749987484,"refId":"[3:37]","endTime":1759749987495,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":62625,"startTime":1759749987501,"endTime":1759749987501,"millis":0.062625,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"14:26:27.500 karate.env system property was: null \n14:26:27.501 config: {\n  \"env\": \"dev\",\n  \"baseUrl\": \"http:\/\/localhost:8082\",\n  \"timeout\": 5000,\n  \"apiTimeout\": 5000,\n  \"retryCount\": 3,\n  \"retryInterval\": 1000,\n  \"commonHeaders\": {\n    \"Content-Type\": \"application\/json\",\n    \"Accept\": \"application\/json\",\n    \"User-Agent\": \"Karate-Test-Framework\"\n  }\n}\n \n"},{"result":{"nanos":50417,"startTime":1759749987502,"endTime":1759749987502,"millis":0.050417,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"configure headers = commonHeaders"}},{"result":{"nanos":120792,"startTime":1759749987502,"endTime":1759749987502,"millis":0.120792,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def authToken = null"}},{"result":{"nanos":39625,"startTime":1759749987502,"endTime":1759749987502,"millis":0.039625,"status":"passed"},"step":{"line":52,"prefix":"Given","index":0,"text":"path 'gateway\/auth\/login'"}},{"result":{"nanos":77834,"startTime":1759749987502,"endTime":1759749987502,"millis":0.077834,"status":"passed"},"step":{"endLine":59,"line":53,"prefix":"And","docString":"{\n  \"egnOrEik\": \"\",\n  \"password\": \"\"\n}","index":1,"text":"request"}},{"result":{"nanos":7667292,"startTime":1759749987502,"endTime":1759749987510,"millis":7.667292,"status":"passed"},"step":{"line":60,"prefix":"When","index":2,"text":"method POST"}},{"result":{"nanos":7333,"startTime":1759749987510,"endTime":1759749987510,"millis":0.007333,"status":"passed"},"step":{"line":61,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":475458,"startTime":1759749987510,"endTime":1759749987510,"millis":0.475458,"status":"passed"},"step":{"line":62,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":204125,"startTime":1759749987510,"endTime":1759749987510,"millis":0.204125,"status":"passed"},"step":{"line":63,"prefix":"And","index":5,"text":"match response.errorMessage contains \"EGNOrEIK must be 9 or 10 characters\""}}],"line":51,"description":"","durationMillis":8.705501,"failed":false,"tags":["integration","api"],"executorName":"main","name":"Step 4 - Empty credentials test","startTime":1759749987499,"refId":"[4:51]","endTime":1759749987510,"exampleIndex":-1}],"callDepth":0,"name":"Complete API Test Suite","description":"This feature tests multiple API endpoints in sequence","resultDate":"2025-10-06 02:26:27 PM","durationMillis":298.723585,"passedCount":3}